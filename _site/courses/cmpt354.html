<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Welcome to Andy's homepage! by AndyCYao</title>

    <link rel="stylesheet" href="/blog/assets/css/style.css?v=da53750ba98df009b742f0824fc0f6ebe02c020f">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Welcome to Andy's homepage!</h1>
        <p>I use this blog to store the notes I have collected throughout my time learning computer science. Feel free to browse and comment</p>

        
          <p class="view"><a href="http://github.com/AndyCYao/blog">View the Project on GitHub <small></small></a></p>
        

        <!-- Added by AY 
        In future, need to fix the /blog hardcoded reference to a relative reference, but currently could not figure out they keyword for the base url-->
        
        <p class="view"><a href="/blog/about.html ">About</a></p>
        
        <p class="view"><a href="/blog/courses.html ">Course Notes</a></p>
        
        <p class="view"><a href="/blog/ "></a></p>
        
        <p class="view"><a href="/blog/assets/css/style.css "></a></p>
        

        <!-- Added by AY -->


        

        
      </header>
      <section>
      
      <h2 id="cmpt-354-database-management-winter-2017">CMPT 354 Database Management Winter 2017</h2>

<h3 id="er-diagrams-and-relational-diagram">ER Diagrams and Relational Diagram</h3>
<p><em>ER Diagrams</em> are for concepts, it is used for abstract grouping of entities and relationships
<em>Relational Diagram</em> is for logical modeling, tends to be drawn when the ER Diagram is already fleshed out.</p>

<h3 id="entity">Entity</h3>
<p>Weak entity are those that depends on a foreign entity to identiy itself. AKA child entity that depends on the parent entity</p>

<p>Strong entity, those that have their own primary key</p>

<h3 id="covering-constraint-and-overlap-constraint">Covering Constraint and Overlap Constraint</h3>
<p>Pertains to the ISA relation.
<em>Covering Constraint</em> - Does every Employee have to be a contractor, or temp?
<em>Overlap Constraint</em> - Can contractor or temp overlap? ie. Can the employee be both</p>

<h3 id="keys">Keys</h3>
<ul>
  <li>Super key are set of candidate keys.</li>
  <li>Candidate keys are column or columns that uniquely identifies the entries in an entity</li>
  <li>Primary key is the minimal candidate key.</li>
</ul>

<h3 id="database">Database</h3>
<ul>
  <li>
    <p>This is a physical storage of data, we will be installing relational databases, which is a part of DBMS (database management system)</p>
  </li>
  <li>
    <p>The purpose of a DB is to faciliate access/ storing data. key things to note is to protect data from concurrent users, crash recoveries, etc.</p>
  </li>
</ul>

<p>-a schema is a way to describe data</p>

<h3 id="sql">SQL</h3>
<ul>
  <li>we have DDL, data definition language, which are the CREATE, DROP, DELETE, keywords</li>
  <li>DML, data manipulation language, which includes
  keywords such as SELECT, UPDATE, DELETE etc.</li>
</ul>

<h3 id="acid">ACID</h3>
<ul>
  <li>Databases must maintain ‘ACID’</li>
  <li>Atomic - groups of transaction must all pass or all fail, if fail, a log is used to unroll the changes.</li>
  <li>Consistent - After each transaction, the DB is in consistent state.</li>
  <li>Isolation - Concurrency control to allow multi user</li>
  <li>Durability - the database must not be corruptible and lose information</li>
</ul>

<div class="language-sql highlighter-rouge"><pre class="highlight"><code>	
	<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tableName</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="k">c</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
	<span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>

	<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">ViewName</span> 
	<span class="p">(</span><span class="k">SELECT</span> <span class="p">...)</span>

	<span class="k">DROP</span> <span class="k">VIEW</span>

	<span class="k">LIKE</span> <span class="p">(</span><span class="k">case</span> <span class="k">insensitive</span><span class="p">)</span>

	<span class="k">UNION</span> <span class="o">-</span> <span class="n">joins</span> <span class="n">two</span> <span class="k">select</span> <span class="n">queries</span><span class="p">,</span> <span class="n">note</span> <span class="n">fields</span> <span class="n">have</span> <span class="k">to</span> <span class="n">be</span> <span class="n">the</span> <span class="n">same</span>

	<span class="k">INTERSECT</span> <span class="o">-</span> 

	<span class="k">EXCEPT</span>
</code></pre>
</div>

<p>Relational Algebra’s Set division can be translated to SQL like so</p>

<p>e.g.  Find sailors who’ve reserved all boats</p>
<div class="language-sql highlighter-rouge"><pre class="highlight"><code><span class="k">SELECT</span>  <span class="n">S</span><span class="p">.</span><span class="n">sname</span>
<span class="k">FROM</span>  <span class="n">Sailors</span> <span class="n">S</span>
<span class="k">WHERE</span>  <span class="k">NOT</span> <span class="k">EXISTS</span> 
	    <span class="p">((</span><span class="k">SELECT</span>  <span class="n">B</span><span class="p">.</span><span class="n">bid</span>
	      <span class="k">FROM</span>  <span class="n">Boats</span> <span class="n">B</span><span class="p">)</span>
	        <span class="k">EXCEPT</span>
	            <span class="p">(</span><span class="k">SELECT</span>  <span class="n">R</span><span class="p">.</span><span class="n">bid</span>
	               <span class="k">FROM</span>  <span class="n">Reserves</span> <span class="n">R</span>
	               <span class="k">WHERE</span>  <span class="n">R</span><span class="p">.</span><span class="n">sid</span><span class="o">=</span><span class="n">S</span><span class="p">.</span><span class="n">sid</span><span class="p">))</span>
</code></pre>
</div>

<p>Find Entity that have only 1 attribute
e.g. Find the snames of suppliers who supply only red parts.</p>

<div class="language-sql highlighter-rouge"><pre class="highlight"><code>	<span class="k">Select</span> <span class="n">S</span><span class="p">.</span><span class="n">sid</span> <span class="k">from</span> <span class="n">Suppliers</span> <span class="n">S</span>
	<span class="k">where</span> <span class="err">‘</span><span class="n">Red</span><span class="err">’</span> <span class="o">=</span> <span class="k">ALL</span> <span class="p">(</span><span class="k">select</span> <span class="n">Parts</span><span class="p">.</span><span class="n">color</span> 
			<span class="k">from</span> <span class="k">Catalog</span><span class="p">,</span> <span class="n">Parts</span>
			<span class="k">where</span> <span class="k">Catalog</span><span class="p">.</span><span class="n">sid</span> <span class="o">=</span> <span class="n">S</span><span class="p">.</span><span class="n">sid</span> <span class="k">and</span> <span class="n">Parts</span><span class="p">.</span><span class="n">pid</span> <span class="o">=</span> <span class="k">Catalog</span><span class="p">.</span><span class="n">pid</span> <span class="p">)</span>
</code></pre>
</div>

<p>a = Any {a,3} 	True</p>

<p>a  = All  {a,3} 	False</p>

<p>a = Any 	{}	False</p>

<p>a = All	{}	True</p>


      </section>
      <footer>
        
        <p>This project is maintained by <a href="http://github.com/AndyCYao">AndyCYao</a></p>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="/blog/assets/js/scale.fix.js"></script>

    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

  
  </body>
</html>